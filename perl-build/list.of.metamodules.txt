  <metamodule id="xorg-protos">
  <metamodule id="xorg-libs">
  <metamodule id="xorg-apps">
  <metamodule id="xorg-drivers">
  <metamodule id="xorg">

#####################################################################################################
  <metamodule id="xorg-protos">
    <dependencies>
      <dep package="macros"/>
      <dep package="bigreqsproto"/>
      <dep package="compositeproto"/>
      <dep package="damageproto"/>
      <dep package="dmxproto"/>
      <dep package="fixesproto"/>
      <dep package="fontsproto"/>
      <dep package="glproto"/>
      <dep package="inputproto"/>
      <dep package="kbproto"/>
      <dep package="xineramaproto"/>
      <dep package="randrproto"/>
      <dep package="recordproto"/>
      <dep package="renderproto"/>
      <dep package="resourceproto"/>
      <dep package="scrnsaverproto"/>
      <dep package="videoproto"/>
      <dep package="xcmiscproto"/>
      <dep package="xextproto"/>
      <dep package="xf86bigfontproto"/>
      <dep package="xf86dgaproto"/>
      <dep package="xf86driproto"/>
      <dep package="xf86vidmodeproto"/>
      <dep package="x11proto"/>
      <dep package="dri2proto"/>
    </dependencies>
  </metamodule>

  <metamodule id="xorg-libs">
    <dependencies>
      <dep package="libFS"/>
      <dep package="libICE"/>
      <dep package="libSM"/>
      <dep package="libX11"/>
      <dep package="libXScrnSaver"/>
      <dep package="libXau"/>
      <dep package="libXaw"/>
      <dep package="libXcomposite"/>
      <dep package="libXcursor"/>
      <dep package="libXdamage"/>
      <dep package="libXdmcp"/>
      <dep package="libXext"/>
      <dep package="libXfixes"/>
      <dep package="libXfont"/>
      <dep package="libXft"/>
      <dep package="libXi"/>
      <dep package="libXinerama"/>
      <dep package="libXmu"/>
      <dep package="libXpm"/>
      <dep package="libXrandr"/>
      <dep package="libXrender"/>
      <dep package="libXRes"/>
      <dep package="libXt"/>
      <dep package="libXtst"/>
      <dep package="libXv"/>
      <dep package="libXvMC"/>
      <dep package="libXxf86dga"/>
      <dep package="libXxf86vm"/>
      <dep package="libdmx"/>
      <dep package="libfontenc"/>
      <dep package="libxkbfile"/>
      <dep package="libxkbui"/>
      <dep package="libxtrans"/>
      <dep package="libdrm"/>
      <dep package="libGL"/>
      <dep package="pixman"/>
      <dep package="libpciaccess"/>
    </dependencies>
  </metamodule>

  <metamodule id="xorg-apps">
    <dependencies>
      <dep package="iceauth"/>
      <dep package="luit"/>
      <dep package="rendercheck"/>
      <dep package="scripts"/>
      <dep package="setxkbmap"/>
      <dep package="smproxy"/>
      <dep package="twm"/>
      <dep package="x11perf"/>
      <dep package="xauth"/>
      <dep package="xdpyinfo"/>
      <dep package="xdriinfo"/>
      <dep package="xev"/>
      <dep package="xeyes"/>
      <dep package="xhost"/>
      <dep package="xinit"/>
      <dep package="xinput"/>
      <dep package="xkbcomp"/>
      <dep package="xkill"/>
      <dep package="xlogo"/>
      <dep package="xlsatoms"/>
      <dep package="xlsclients"/>
      <dep package="xmodmap"/>
      <dep package="xprop"/>
      <dep package="xrandr"/>
      <dep package="xrdb"/>
      <dep package="xset"/>
      <dep package="xsetroot"/>
      <dep package="xvinfo"/>
      <dep package="xwd"/>
      <dep package="xwininfo"/>
      <dep package="xwud"/>
    </dependencies>
  </metamodule>

  <!-- input drivers -->

  <autotools id="xf86-input-acecad">
    <branch repo="git.freedesktop.org" module="xorg/driver/xf86-input-acecad" checkoutdir="xorg/driver/xf86-input-acecad" />
    <dependencies>
      <dep package="xserver"/>
    </dependencies>
  </autotools>

  <autotools id="xf86-input-aiptek">
    <branch repo="git.freedesktop.org" module="xorg/driver/xf86-input-aiptek" checkoutdir="xorg/driver/xf86-input-aiptek" />
    <dependencies>
      <dep package="xserver"/>
    </dependencies>
  </autotools>

  <autotools id="xf86-input-evdev">
    <branch repo="git.freedesktop.org" module="xorg/driver/xf86-input-evdev" checkoutdir="xorg/driver/xf86-input-evdev" />
    <dependencies>
      <dep package="xserver"/>
    </dependencies>
  </autotools>

  <autotools id="xf86-input-joystick">
    <branch repo="git.freedesktop.org" module="xorg/driver/xf86-input-joystick" checkoutdir="xorg/driver/xf86-input-joystick" />
    <dependencies>
      <dep package="xserver"/>
    </dependencies>
  </autotools>

  <autotools id="xf86-input-keyboard">
    <branch repo="git.freedesktop.org" module="xorg/driver/xf86-input-keyboard" checkoutdir="xorg/driver/xf86-input-keyboard" />
    <dependencies>
      <dep package="xserver"/>
    </dependencies>
  </autotools>

  <autotools id="xf86-input-mouse">
    <branch repo="git.freedesktop.org" module="xorg/driver/xf86-input-mouse" checkoutdir="xorg/driver/xf86-input-mouse" />
    <dependencies>
      <dep package="xserver"/>
    </dependencies>
  </autotools>

  <autotools id="xf86-input-synaptics">
    <branch repo="git.freedesktop.org" module="xorg/driver/xf86-input-synaptics" checkoutdir="xorg/driver/xf86-input-synaptics" />
    <dependencies>
      <dep package="xserver"/>
    </dependencies>
  </autotools>

  <autotools id="xf86-input-vmmouse">
    <branch repo="git.freedesktop.org" module="xorg/driver/xf86-input-vmmouse" checkoutdir="xorg/driver/xf86-input-vmmouse" />
    <dependencies>
      <dep package="xserver"/>
    </dependencies>
  </autotools>

  <autotools id="xf86-input-void">
    <branch repo="git.freedesktop.org" module="xorg/driver/xf86-input-void" checkoutdir="xorg/driver/xf86-input-void" />
    <dependencies>
      <dep package="xserver"/>
    </dependencies>
  </autotools>

  <autotools id="xf86-video-apm">
    <branch repo="git.freedesktop.org" module="xorg/driver/xf86-video-apm" checkoutdir="xorg/driver/xf86-video-apm" />
    <dependencies>
      <dep package="xserver"/>
    </dependencies>
  </autotools>

  <autotools id="xf86-video-ark">
    <branch repo="git.freedesktop.org" module="xorg/driver/xf86-video-ark" checkoutdir="xorg/driver/xf86-video-ark" />
    <dependencies>
      <dep package="xserver"/>
    </dependencies>
  </autotools>

  <autotools id="xf86-video-ast">
    <branch repo="git.freedesktop.org" module="xorg/driver/xf86-video-ast" checkoutdir="xorg/driver/xf86-video-ast" />
    <dependencies>
      <dep package="xserver"/>
    </dependencies>
  </autotools>

  <autotools id="xf86-video-ati">
    <branch repo="git.freedesktop.org" module="xorg/driver/xf86-video-ati" checkoutdir="xorg/driver/xf86-video-ati" />
    <dependencies>
      <dep package="xserver"/>
    </dependencies>
  </autotools>

  <autotools id="xf86-video-chips">
    <branch repo="git.freedesktop.org" module="xorg/driver/xf86-video-chips" checkoutdir="xorg/driver/xf86-video-chips" />
    <dependencies>
      <dep package="xserver"/>
    </dependencies>
  </autotools>

  <autotools id="xf86-video-cirrus">
    <branch repo="git.freedesktop.org" module="xorg/driver/xf86-video-cirrus" checkoutdir="xorg/driver/xf86-video-cirrus" />
    <dependencies>
      <dep package="xserver"/>
    </dependencies>
  </autotools>

  <autotools id="xf86-video-dummy">
    <branch repo="git.freedesktop.org" module="xorg/driver/xf86-video-dummy" checkoutdir="xorg/driver/xf86-video-dummy" />
    <dependencies>
      <dep package="xserver"/>
    </dependencies>
  </autotools>

  <autotools id="xf86-video-fbdev">
    <branch repo="git.freedesktop.org" module="xorg/driver/xf86-video-fbdev" checkoutdir="xorg/driver/xf86-video-fbdev" />
    <dependencies>
      <dep package="xserver"/>
    </dependencies>
  </autotools>

  <autotools id="xf86-video-geode">
    <branch repo="git.freedesktop.org" module="xorg/driver/xf86-video-geode" checkoutdir="xorg/driver/xf86-video-geode" />
    <dependencies>
      <dep package="xserver"/>
    </dependencies>
  </autotools>

  <autotools id="xf86-video-glide">
    <branch repo="git.freedesktop.org" module="xorg/driver/xf86-video-glide" checkoutdir="xorg/driver/xf86-video-glide" />
    <dependencies>
      <dep package="xserver"/>
    </dependencies>
  </autotools>

  <autotools id="xf86-video-glint">
    <branch repo="git.freedesktop.org" module="xorg/driver/xf86-video-glint" checkoutdir="xorg/driver/xf86-video-glint" />
    <dependencies>
      <dep package="xserver"/>
    </dependencies>
  </autotools>

  <autotools id="xf86-video-i128">
    <branch repo="git.freedesktop.org" module="xorg/driver/xf86-video-i128" checkoutdir="xorg/driver/xf86-video-i128" />
    <dependencies>
      <dep package="xserver"/>
    </dependencies>
  </autotools>

  <autotools id="xf86-video-i740">
    <branch repo="git.freedesktop.org" module="xorg/driver/xf86-video-i740" checkoutdir="xorg/driver/xf86-video-i740" />
    <dependencies>
      <dep package="xserver"/>
    </dependencies>
  </autotools>

  <autotools id="xf86-video-impact">
    <branch repo="git.freedesktop.org" module="xorg/driver/xf86-video-impact" checkoutdir="xorg/driver/xf86-video-impact" />
    <dependencies>
      <dep package="xserver"/>
    </dependencies>
  </autotools>

  <autotools id="xf86-video-intel">
    <branch repo="git.freedesktop.org" module="xorg/driver/xf86-video-intel" checkoutdir="xorg/driver/xf86-video-intel" />
    <dependencies>
      <dep package="xserver"/>
      <dep package="x11proto"/>
      <dep package="libXvMC"/>
    </dependencies>
  </autotools>

  <autotools id="xf86-video-mach64">
    <branch repo="git.freedesktop.org" module="xorg/driver/xf86-video-mach64" checkoutdir="xorg/driver/xf86-video-mach64" />
    <dependencies>
      <dep package="xserver"/>
    </dependencies>
  </autotools>

  <autotools id="xf86-video-mga">
    <branch repo="git.freedesktop.org" module="xorg/driver/xf86-video-mga" checkoutdir="xorg/driver/xf86-video-mga" />
    <dependencies>
      <dep package="xserver"/>
    </dependencies>
  </autotools>

  <autotools id="xf86-video-neomagic">
    <branch repo="git.freedesktop.org" module="xorg/driver/xf86-video-neomagic" checkoutdir="xorg/driver/xf86-video-neomagic" />
    <dependencies>
      <dep package="xserver"/>
    </dependencies>
  </autotools>

  <autotools id="xf86-video-newport">
    <branch repo="git.freedesktop.org" module="xorg/driver/xf86-video-newport" checkoutdir="xorg/driver/xf86-video-newport" />
    <dependencies>
      <dep package="xserver"/>
    </dependencies>
  </autotools>

  <autotools id="xf86-video-nouveau">
    <branch repo="git.freedesktop.org" module="nouveau/xf86-video-nouveau" checkoutdir="xorg/driver/xf86-video-nouveau" />
    <dependencies>
      <dep package="xserver"/>
    </dependencies>
  </autotools>
  
  <autotools id="xf86-video-nv">
    <branch repo="git.freedesktop.org" module="xorg/driver/xf86-video-nv" checkoutdir="xorg/driver/xf86-video-nv" />
    <dependencies>
      <dep package="xserver"/>
    </dependencies>
  </autotools>
  
  <autotools id="xf86-video-r128">
    <branch repo="git.freedesktop.org" module="xorg/driver/xf86-video-r128" checkoutdir="xorg/driver/xf86-video-r128" />
    <dependencies>
      <dep package="xserver"/>
    </dependencies>
  </autotools>

  <autotools id="xf86-video-rendition">
    <branch repo="git.freedesktop.org" module="xorg/driver/xf86-video-rendition" checkoutdir="xorg/driver/xf86-video-rendition" />
    <dependencies>
      <dep package="xserver"/>
    </dependencies>
  </autotools>

  <autotools id="xf86-video-s3">
    <branch repo="git.freedesktop.org" module="xorg/driver/xf86-video-s3" checkoutdir="xorg/driver/xf86-video-s3" />
    <dependencies>
      <dep package="xserver"/>
    </dependencies>
  </autotools>

  <autotools id="xf86-video-s3virge">
    <branch repo="git.freedesktop.org" module="xorg/driver/xf86-video-s3virge" checkoutdir="xorg/driver/xf86-video-s3virge" />
    <dependencies>
      <dep package="xserver"/>
    </dependencies>
  </autotools>

  <autotools id="xf86-video-savage">
    <branch repo="git.freedesktop.org" module="xorg/driver/xf86-video-savage" checkoutdir="xorg/driver/xf86-video-savage" />
    <dependencies>
      <dep package="xserver"/>
    </dependencies>
  </autotools>

  <autotools id="xf86-video-siliconmotion">
    <branch repo="git.freedesktop.org" module="xorg/driver/xf86-video-siliconmotion" checkoutdir="xorg/driver/xf86-video-siliconmotion" />
    <dependencies>
      <dep package="xserver"/>
    </dependencies>
  </autotools>

  <autotools id="xf86-video-sis">
    <branch repo="git.freedesktop.org" module="xorg/driver/xf86-video-sis" checkoutdir="xorg/driver/xf86-video-sis" />
    <dependencies>
      <dep package="xserver"/>
    </dependencies>
  </autotools>

  <autotools id="xf86-video-sisusb">
    <branch repo="git.freedesktop.org" module="xorg/driver/xf86-video-sisusb" checkoutdir="xorg/driver/xf86-video-sisusb" />
    <dependencies>
      <dep package="xserver"/>
    </dependencies>
  </autotools>

  <autotools id="xf86-video-sunbw2">
    <branch repo="git.freedesktop.org" module="xorg/driver/xf86-video-sunbw2" checkoutdir="xorg/driver/xf86-video-sunbw2" />
    <dependencies>
      <dep package="xserver"/>
    </dependencies>
  </autotools>

  <autotools id="xf86-video-suncg14">
    <branch repo="git.freedesktop.org" module="xorg/driver/xf86-video-suncg14" checkoutdir="xorg/driver/xf86-video-suncg14" />
    <dependencies>
      <dep package="xserver"/>
    </dependencies>
  </autotools>

  <autotools id="xf86-video-suncg3">
    <branch repo="git.freedesktop.org" module="xorg/driver/xf86-video-suncg3" checkoutdir="xorg/driver/xf86-video-suncg3" />
    <dependencies>
      <dep package="xserver"/>
    </dependencies>
  </autotools>

  <autotools id="xf86-video-suncg6">
    <branch repo="git.freedesktop.org" module="xorg/driver/xf86-video-suncg6" checkoutdir="xorg/driver/xf86-video-suncg6" />
    <dependencies>
      <dep package="xserver"/>
    </dependencies>
  </autotools>

  <autotools id="xf86-video-sunffb">
    <branch repo="git.freedesktop.org" module="xorg/driver/xf86-video-sunffb" checkoutdir="xorg/driver/xf86-video-sunffb" />
    <dependencies>
      <dep package="xserver"/>
    </dependencies>
  </autotools>

  <autotools id="xf86-video-sunleo">
    <branch repo="git.freedesktop.org" module="xorg/driver/xf86-video-sunleo" checkoutdir="xorg/driver/xf86-video-sunleo" />
    <dependencies>
      <dep package="xserver"/>
    </dependencies>
  </autotools>

  <autotools id="xf86-video-suntcx">
    <branch repo="git.freedesktop.org" module="xorg/driver/xf86-video-suntcx" checkoutdir="xorg/driver/xf86-video-suntcx" />
    <dependencies>
      <dep package="xserver"/>
    </dependencies>
  </autotools>

  <autotools id="xf86-video-tdfx">
    <branch repo="git.freedesktop.org" module="xorg/driver/xf86-video-tdfx" checkoutdir="xorg/driver/xf86-video-tdfx" />
    <dependencies>
      <dep package="xserver"/>
    </dependencies>
  </autotools>

  <autotools id="xf86-video-tga">
    <branch repo="git.freedesktop.org" module="xorg/driver/xf86-video-tga" checkoutdir="xorg/driver/xf86-video-tga" />
    <dependencies>
      <dep package="xserver"/>
    </dependencies>
  </autotools>

  <autotools id="xf86-video-trident">
    <branch repo="git.freedesktop.org" module="xorg/driver/xf86-video-trident" checkoutdir="xorg/driver/xf86-video-trident" />
    <dependencies>
      <dep package="xserver"/>
    </dependencies>
  </autotools>

  <autotools id="xf86-video-tseng">
    <branch repo="git.freedesktop.org" module="xorg/driver/xf86-video-tseng" checkoutdir="xorg/driver/xf86-video-tseng" />
    <dependencies>
      <dep package="xserver"/>
    </dependencies>
  </autotools>

  <autotools id="xf86-video-v4l">
    <branch repo="git.freedesktop.org" module="xorg/driver/xf86-video-v4l" checkoutdir="xorg/driver/xf86-video-v4l" />
    <dependencies>
      <dep package="xserver"/>
    </dependencies>
  </autotools>

  <autotools id="xf86-video-vesa">
    <branch repo="git.freedesktop.org" module="xorg/driver/xf86-video-vesa" checkoutdir="xorg/driver/xf86-video-vesa" />
    <dependencies>
      <dep package="xserver"/>
    </dependencies>
  </autotools>

  <autotools id="xf86-video-vmware">
    <branch repo="git.freedesktop.org" module="xorg/driver/xf86-video-vmware" checkoutdir="xorg/driver/xf86-video-vmware" />
    <dependencies>
      <dep package="xserver"/>
    </dependencies>
  </autotools>

  <autotools id="xf86-video-voodoo">
    <branch repo="git.freedesktop.org" module="xorg/driver/xf86-video-voodoo" checkoutdir="xorg/driver/xf86-video-voodoo" />
    <dependencies>
      <dep package="xserver"/>
    </dependencies>
  </autotools>

  <autotools id="xf86-video-wsfb">
    <branch repo="git.freedesktop.org" module="xorg/driver/xf86-video-wsfb" checkoutdir="xorg/driver/xf86-video-wsfb" />
    <dependencies>
      <dep package="xserver"/>
    </dependencies>
  </autotools>

  <autotools id="xf86-video-xgi">
    <branch repo="git.freedesktop.org" module="xorg/driver/xf86-video-xgi" checkoutdir="xorg/driver/xf86-video-xgi" />
    <dependencies>
      <dep package="xserver"/>
    </dependencies>
  </autotools>

  <autotools id="xf86-video-xgixp">
    <branch repo="git.freedesktop.org" module="xorg/driver/xf86-video-xgixp" checkoutdir="xorg/driver/xf86-video-xgixp" />
    <dependencies>
      <dep package="xserver"/>
    </dependencies>
  </autotools>

  <!-- These drivers are marked unmaintained in xorg/doc/xorg-docs/MAINTAINERS and are also broken -->
  <metamodule id="xorg-drivers">
    <dependencies>
      <dep package="xf86-input-acecad"/>
      <dep package="xf86-input-aiptek"/>
      <dep package="xf86-input-evdev"/>
      <dep package="xf86-input-joystick"/>
      <dep package="xf86-input-keyboard"/>
      <dep package="xf86-input-mouse"/>
      <dep package="xf86-input-void"/>
      <dep package="xf86-video-ati"/>
      <dep package="xf86-video-chips"/>
      <dep package="xf86-video-cirrus"/>
      <dep package="xf86-video-dummy"/>
      <dep package="xf86-video-fbdev"/>
      <dep package="xf86-video-geode"/>
      <dep package="xf86-video-glint"/>
      <dep package="xf86-video-i128"/>
      <dep package="xf86-video-impact"/>
      <dep package="xf86-video-intel"/>
      <dep package="xf86-video-mach64"/>
      <dep package="xf86-video-mga"/>
      <dep package="xf86-video-neomagic"/>
      <dep package="xf86-video-nouveau"/>
      <dep package="xf86-video-nv"/>
      <dep package="xf86-video-r128"/>
      <dep package="xf86-video-rendition"/>
      <dep package="xf86-video-savage"/>
      <dep package="xf86-video-sis"/>
      <dep package="xf86-video-sisusb"/>
      <dep package="xf86-video-sunbw2"/>
      <dep package="xf86-video-suncg14"/>
      <dep package="xf86-video-suncg3"/>
      <dep package="xf86-video-suncg6"/>
      <dep package="xf86-video-sunffb"/>
      <dep package="xf86-video-sunleo"/>
      <dep package="xf86-video-suntcx"/>
      <dep package="xf86-video-tdfx"/>
      <dep package="xf86-video-tga"/>
      <dep package="xf86-video-trident"/>
      <dep package="xf86-video-tseng"/>
      <dep package="xf86-video-vesa"/>
      <dep package="xf86-video-vmware"/>
      <dep package="xf86-video-voodoo"/>
      <dep package="xf86-video-xgi"/>
      <dep package="xf86-video-xgixp"/>
    </dependencies>
  </metamodule>

  <!-- Bogosity of depending on libraries caused by Xnest.  Sigh -->
  <autotools id="xserver">
    <branch repo="git.freedesktop.org" module="xorg/xserver" checkoutdir="xorg/xserver"/>
    <dependencies>
      <dep package="xorg-protos"/>
      <dep package="libGL"/>
      <dep package="libXaw"/>
      <dep package="libxkbui"/>
      <dep package="libXfont"/>
      <dep package="libxtrans"/>
      <dep package="libXau"/>
      <dep package="libxkbfile"/>
      <dep package="libXdmcp"/>
      <dep package="libXxf86vm"/>
      <dep package="libXinerama"/>
      <dep package="libdrm"/>
      <dep package="libdmx"/>
      <dep package="pixman"/>
      <dep package="libpciaccess"/>
    </dependencies>
  </autotools>

  <metamodule id="xorg">
    <dependencies>
      <dep package="xorg-protos"/>
      <dep package="xorg-libs"/>
      <dep package="xorg-apps"/>
      <dep package="xorg-drivers"/>
      <dep package="xorg-docs"/>
      <dep package="xserver"/>
      <dep package="xkeyboard-config"/>
    </dependencies>
  </metamodule>

</moduleset>
